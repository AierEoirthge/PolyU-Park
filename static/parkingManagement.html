<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Parking Space Management</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
    <style>
      .map {
        width: 100%;
        max-width: 800px;
        margin: auto;
        border: 1px solid #ccc;
      }
      .seat {
        cursor: pointer;
        transition: fill 0.3s;
      }
      .available {
        fill: green;
      }
      .occupied {
        fill: red;
      }
      .selected {
        fill: yellow;
      }
      .price {
        margin-top: 20px;
        font-size: 24px;
      }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <a class="navbar-brand" href="index.html">Home</a>
      <div class="collapse navbar-collapse">
        <span class="navbar-text ml-auto">Admin Access: Parking Management</span>
        <a class="btn btn-outline-light ml-2" href="logout.html" id="logout">Logout</a>
      </div>
    </nav>

    <div class="container mt-4">
      <h1>Parking Space Management</h1>

      <h2>Parking Map</h2>
      <svg class="map" viewBox="0 0 600 500">
        <!-- Parking Bays -->
        <rect x="50" y="50" width="100" height="50" class="seat available" data-id="1" />
        <rect x="160" y="50" width="100" height="50" class="seat occupied" data-id="2" />
        <rect x="270" y="50" width="100" height="50" class="seat available" data-id="3" />
        <rect x="380" y="50" width="100" height="50" class="seat available" data-id="4" />
        <rect x="490" y="50" width="100" height="50" class="seat occupied" data-id="5" />

        <rect x="50" y="110" width="100" height="50" class="seat available" data-id="6" />
        <rect x="160" y="110" width="100" height="50" class="seat occupied" data-id="7" />
        <rect x="270" y="110" width="100" height="50" class="seat available" data-id="8" />
        <rect x="380" y="110" width="100" height="50" class="seat available" data-id="9" />
        <rect x="490" y="110" width="100" height="50" class="seat occupied" data-id="10" />

        <rect x="50" y="170" width="100" height="50" class="seat available" data-id="11" />
        <rect x="160" y="170" width="100" height="50" class="seat occupied" data-id="12" />
        <rect x="270" y="170" width="100" height="50" class="seat available" data-id="13" />
        <rect x="380" y="170" width="100" height="50" class="seat available" data-id="14" />
        <rect x="490" y="170" width="100" height="50" class="seat occupied" data-id="15" />

        <rect x="50" y="230" width="100" height="50" class="seat available" data-id="16" />
        <rect x="160" y="230" width="100" height="50" class="seat occupied" data-id="17" />
        <rect x="270" y="230" width="100" height="50" class="seat available" data-id="18" />
        <rect x="380" y="230" width="100" height="50" class="seat available" data-id="19" />
        <rect x="490" y="230" width="100" height="50" class="seat occupied" data-id="20" />

        <rect x="50" y="290" width="100" height="50" class="seat available" data-id="21" />
        <rect x="160" y="290" width="100" height="50" class="seat occupied" data-id="22" />
        <rect x="270" y="290" width="100" height="50" class="seat available" data-id="23" />
        <rect x="380" y="290" width="100" height="50" class="seat available" data-id="24" />
        <rect x="490" y="290" width="100" height="50" class="seat occupied" data-id="25" />

        <rect x="50" y="350" width="100" height="50" class="seat available" data-id="26" />
        <rect x="160" y="350" width="100" height="50" class="seat occupied" data-id="27" />
        <rect x="270" y="350" width="100" height="50" class="seat available" data-id="28" />
        <rect x="380" y="350" width="100" height="50" class="seat available" data-id="29" />
        <rect x="490" y="350" width="100" height="50" class="seat occupied" data-id="30" />
      </svg>

      <h2>Manage Parking Bays</h2>
      <div class="form-group mt-4">
        <label for="parkingBayId">Select Parking Bay to Update:</label>
        <select class="form-control" id="parkingBayId">
          <option value="1">Parking Bay 1</option>
          <option value="2">Parking Bay 2</option>
          <option value="3">Parking Bay 3</option>
          <option value="4">Parking Bay 4</option>
          <option value="5">Parking Bay 5</option>
          <option value="6">Parking Bay 6</option>
          <option value="7">Parking Bay 7</option>
          <option value="8">Parking Bay 8</option>
          <option value="9">Parking Bay 9</option>
          <option value="10">Parking Bay 10</option>
          <option value="11">Parking Bay 11</option>
          <option value="12">Parking Bay 12</option>
          <option value="13">Parking Bay 13</option>
          <option value="14">Parking Bay 14</option>
          <option value="15">Parking Bay 15</option>
          <option value="16">Parking Bay 16</option>
          <option value="17">Parking Bay 17</option>
          <option value="18">Parking Bay 18</option>
          <option value="19">Parking Bay 19</option>
          <option value="20">Parking Bay 20</option>
          <option value="21">Parking Bay 21</option>
          <option value="22">Parking Bay 22</option>
          <option value="23">Parking Bay 23</option>
          <option value="24">Parking Bay 24</option>
          <option value="25">Parking Bay 25</option>
          <option value="26">Parking Bay 26</option>
          <option value="27">Parking Bay 27</option>
          <option value="28">Parking Bay 28</option>
          <option value="29">Parking Bay 29</option>
          <option value="30">Parking Bay 30</option>
        </select>
      </div>

      <div class="form-group">
        <label for="bayStatus">Set Status:</label>
        <select class="form-control" id="bayStatus">
          <option value="available">Available</option>
          <option value="occupied">Occupied</option>
        </select>
      </div>

      <button class="btn btn-primary" id="updateBayStatus">Update Status</button>

      <div class="mt-3" id="statusMessage"></div>

      <h2 class="mt-4">Available Parking Bays: <span id="availableCount">0</span></h2>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      // Function to update parking bay status
      document.getElementById('updateBayStatus').addEventListener('click', function () {
        const selectedBayId = document.getElementById('parkingBayId').value;
        const selectedStatus = document.getElementById('bayStatus').value;

        // Update SVG based on selected parking bay and status
        const bay = document.querySelector(`.seat[data-id="${selectedBayId}"]`);
        if (bay) {
          if (selectedStatus === 'available') {
            bay.classList.remove('occupied');
            bay.classList.add('available');
          } else {
            bay.classList.remove('available');
            bay.classList.add('occupied');
          }
          document.getElementById('statusMessage').textContent =
            `Parking Bay ${selectedBayId} status updated to ${selectedStatus}.`;
          updateAvailableCount();
        } else {
          document.getElementById('statusMessage').textContent = 'Error: Parking Bay not found.';
        }
      });

      // Function to count available parking bays
      function updateAvailableCount() {
        const availableBays = document.querySelectorAll('.seat.available');
        document.getElementById('availableCount').textContent = availableBays.length;
      }

      // Initial count of available bays
      updateAvailableCount();
    </script>
  </body>
</html>
